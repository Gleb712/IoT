# Управление температурой IoT

Приложение для управления кондиционером IoT-устройства через графический интерфейс с MQTT. Работает в автоматическом и ручном режимах, позволяя контролировать кондиционер и следить за температурой в реальном времени.

## Функции

- **Авто/Ручной режимы**: 
  - Авто: кондиционер включается/выключается автоматически по порогу.
  - Ручной: кнопка для включения/выключения кондиционера.

- **Настройка порога**: Пользователь задаёт порог температуры для включения кондиционера.

- **Частота обновления графика**: Ползунок позволяет выбрать частоту обновления графика (1-30 сек).

- **График температуры**: Отображает изменения температуры со временем и порог кондиционера.

## MQTT Топики

- **`Iot/sensor`**: Публикует текущую температуру и время с начала работы.
- **`Iot/mode`**: Переключает режим работы кондиционера.
- **`Iot/actuator`**: Включает/выключает кондиционер вручную.

## Команды

- Подписка на данные температуры:
  ```bash
  mosquitto_sub -h test.mosquitto.org -t Iot/sensor
  ```

  
### Переключение режимов:
- Автоматический режим:
  ```bash
  mosquitto_pub -h test.mosquitto.org -t Iot/mode -m "auto"
  ```
  
- Ручной режим:
  ```bash
  mosquitto_pub -h test.mosquitto.org -t Iot/mode -m "manual"
  ```
### Включение/выключение кондиционера вручную:
  ```bash
  mosquitto_pub -h test.mosquitto.org -t Iot/actuator -m "toggle"
  ```
## Telegram-бот

Для управления кондиционером также можно использовать Telegram-бота [@iot_mqtt_bot](https://t.me/iot_mqtt_bot). Бот предоставляет интерфейс для выполнения основных действий, доступных в приложении.

### Команды бота

- **`/start` или `/help`**: Отображает справку по командам.
- **`/data`**: Показывает текущие данные о температуре, полученные с сенсора.
- **`/manual`**: Устанавливает ручной режим работы кондиционера.
- **`/auto`**: Устанавливает автоматический режим работы.
- **`/actuator`**: Включает или выключает кондиционер в ручном режиме работы (недоступно в автоматическом режиме).

## Запуск

1. Запустите приложение:
   ```bash
   python main.py
   ```
2. Настройте параметры в интерфейсе.

### Зависимости
```bash
pip install paho-mqtt matplotlib
```
